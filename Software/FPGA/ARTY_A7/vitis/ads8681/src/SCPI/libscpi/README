This is a modified version of the scpi parser (https://github.com/j123b567/scpi-parser).
The writeNewLine() (parser.c) function was modified to used the same termination like the input data (\r or \n or \r\n). In the original code it is hard coded in config.h. 
Additional modification in struct _scpi_t (types.h) where "char end[3]" was added to store the type of termination. 